"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8178],{10557:(e,r,n)=>{n.d(r,{S:()=>l,z:()=>d});var t=n(95155),o=n(51012),u=n(56037),c=n(53139),i=n(12115);let a=(0,i.createContext)(void 0),l=e=>{let{children:r,initialMockChains:n}=e,l=function(e){let{initialMockChains:r}=e,{provider:n,chainId:t,accounts:a,isConnected:l,connect:d,error:s}=(0,c.h)(),[v,f]=(0,i.useState)(void 0),[h,w]=(0,i.useState)(void 0),[m,g]=(0,i.useState)(void 0),E=(0,i.useRef)(t),p=(0,i.useRef)(void 0),C=(0,i.useRef)(e=>e===E.current),M=(0,i.useRef)(e=>e===p.current);return(0,i.useEffect)(()=>{E.current=t},[t]),(0,i.useEffect)(()=>{if(!n||!t||!l||!a||0===a.length){p.current=void 0,f(void 0),w(void 0),g(void 0);return}console.warn("[useMetaMaskEthersSignerInternal] create new ethers.BrowserProvider(), chainId=".concat(t));let e=new o.k(n),c=e,i=null==r?void 0:r[t];i?(c=new u.FR(i),console.warn("[useMetaMaskEthersSignerInternal] create new readonly provider ethers.JsonRpcProvider(".concat(i,"), chainId=").concat(t))):console.warn("[useMetaMaskEthersSignerInternal] use ethers.BrowserProvider() as readonly provider, chainId=".concat(t));let d=new u.cP(e,a[0]);p.current=d,f(d),w(e),g(c)},[n,t,l,a,r]),{sameChain:C,sameSigner:M,provider:n,chainId:t,accounts:a,isConnected:l,connect:d,ethersBrowserProvider:h,ethersReadonlyProvider:m,ethersSigner:v,error:s,initialMockChains:r}}({initialMockChains:n});return(0,t.jsx)(a.Provider,{value:l,children:r})};function d(){let e=(0,i.useContext)(a);if(void 0===e)throw Error("useMetaMaskEthersSigner must be used within a MetaMaskEthersSignerProvider");return e}},53139:(e,r,n)=>{n.d(r,{r:()=>c,h:()=>i});var t=n(95155),o=n(12115);let u=(0,o.createContext)(void 0),c=e=>{let{children:r}=e,{provider:n,chainId:c,accounts:i,isConnected:a,error:l,connect:d}=function(){var e;let{error:r,providers:n}=function(){let[e,r]=(0,o.useState)(void 0),[n,t]=(0,o.useState)(void 0),u=(0,o.useRef)(0),c=(0,o.useRef)(!1),i=(0,o.useMemo)(()=>n?Object.values(n):[],[n]);return(0,o.useEffect)(()=>{let e=++u.current,n=e=>{if("detail"in e){var r;r=e.detail,t(e=>{if(!e)return{[r.info.uuid]:r};let n=e[r.info.uuid];return n&&n.info.uuid===r.info.uuid&&n.info.name===r.info.name&&n.info.rdns===r.info.rdns&&n.info.icon===r.info.icon&&n.provider===r.provider?e:(n?console.log("addUuid(".concat(r.info.uuid,") update existing.")):console.log("addUuid(".concat(r.info.uuid,") add new.")),{...e,[r.info.uuid]:r})})}};return(async()=>{if(e===u.current){if(c.current)return console.log("window is already listening!!!");r(void 0);try{window.addEventListener("eip6963:announceProvider",n)}catch(e){r(e instanceof Error?e:Error(String(e)));return}c.current=!0;try{window.dispatchEvent(new Event("eip6963:requestProvider"))}catch(e){window.removeEventListener("eip6963:announceProvider",n),r(e instanceof Error?e:Error(String(e))),c.current=!1}}})(),()=>{u.current=u.current+1,window.removeEventListener("eip6963:announceProvider",n)}},[]),{error:e,uuids:n,providers:i}}(),[t,u]=(0,o.useState)(void 0),[c,i]=(0,o.useState)(void 0),[a,l]=(0,o.useState)(void 0),d=(0,o.useRef)(void 0),s=(0,o.useRef)(void 0),v=(0,o.useRef)(void 0),f=(0,o.useRef)(void 0),h=(0,o.useRef)(void 0),w=!!t,m=(null!=(e=null==a?void 0:a.length)?e:0)>0,g=(0,o.useCallback)(()=>{t&&(a&&a.length>0||t.request({method:"eth_requestAccounts"}))},[t,a]);return(0,o.useEffect)(()=>{var e,r,t,o,c,a,w,m,g,E,p,C,M;let S,k,I,L,P;for(let e=0;e<n.length;++e)if("metamask"===n[e].info.name.toLowerCase()){S=n[e].provider;break}let b=h.current;b!==S&&(b&&(d.current&&(null==(e=b.off)||e.call(b,"connect",d.current),null==(r=b.removeListener)||r.call(b,"connect",d.current),d.current=void 0),s.current&&(null==(t=b.off)||t.call(b,"disconnect",s.current),null==(o=b.removeListener)||o.call(b,"disconnect",s.current),s.current=void 0),v.current&&(null==(c=b.off)||c.call(b,"chainChanged",v.current),null==(a=b.removeListener)||a.call(b,"chainChanged",v.current),v.current=void 0),f.current&&(null==(w=b.off)||w.call(b,"accountsChanged",f.current),null==(m=b.removeListener)||m.call(b,"accountsChanged",f.current),f.current=void 0)),u(void 0),i(void 0),l(void 0),h.current=S,d.current=void 0,s.current=void 0,v.current=void 0,f.current=void 0,S&&(d.current=k=e=>{S===h.current&&(u(S),i(Number.parseInt(e.chainId,16)))},s.current=I=e=>{S===h.current&&(u(void 0),i(void 0),l(void 0))},v.current=L=e=>{S===h.current&&(u(S),i(Number.parseInt(e,16)))},f.current=P=e=>{S===h.current&&(u(S),l(e))},S.on?(S.on("connect",k),S.on("disconnect",I),S.on("chainChanged",L),null==(g=S.on)||g.call(S,"accountsChanged",P)):(null==(E=S.addListener)||E.call(S,"connect",k),null==(p=S.addListener)||p.call(S,"disconnect",I),null==(C=S.addListener)||C.call(S,"chainChanged",L),null==(M=S.addListener)||M.call(S,"accountsChanged",P)),(async()=>{if(S===h.current)try{let[e,r]=await Promise.all([S.request({method:"eth_chainId"}),S.request({method:"eth_accounts"})]);u(S),i(Number.parseInt(e,16)),l(r)}catch(e){u(S),i(void 0),l(void 0)}})()))},[n]),(0,o.useEffect)(()=>()=>{let e=h.current;if(e){var r,n,t,o,u,c,i,a;let l=v.current,h=f.current,w=d.current,m=s.current;w&&(null==(r=e.off)||r.call(e,"connect",w),null==(n=e.removeListener)||n.call(e,"connect",w)),m&&(null==(t=e.off)||t.call(e,"disconnect",m),null==(o=e.removeListener)||o.call(e,"disconnect",m)),l&&(null==(u=e.off)||u.call(e,"chainChanged",l),null==(c=e.removeListener)||c.call(e,"chainChanged",l)),h&&(null==(i=e.off)||i.call(e,"accountsChanged",h),null==(a=e.removeListener)||a.call(e,"accountsChanged",h))}v.current=void 0,h.current=void 0},[]),{provider:t,chainId:c,accounts:a,isConnected:w&&m&&"number"==typeof c,error:r,connect:g}}();return(0,t.jsx)(u.Provider,{value:{provider:n,chainId:c,accounts:i,isConnected:a,error:l,connect:d},children:r})};function i(){let e=(0,o.useContext)(u);if(void 0===e)throw Error("useMetaMask must be used within a MetaMaskProvider");return e}},98814:(e,r,n)=>{n.d(r,{h:()=>v,p:()=>s});var t=n(95155),o=n(12115),u=n(67325),c=n(75777),i=n(15378),a=new WeakMap;class l{getItem(e){return(0,u._)(this,a).has(e)?(0,u._)(this,a).get(e):null}setItem(e,r){(0,u._)(this,a).set(e,r)}removeItem(e){(0,u._)(this,a).delete(e)}constructor(){(0,c._)(this,a,{writable:!0,value:void 0}),(0,i._)(this,a,new Map)}}let d=(0,o.createContext)(void 0),s=()=>{let e=(0,o.useContext)(d);if(!e)throw Error("useInMemoryStorage must be used within a InMemoryStorageProvider");return e},v=e=>{let{children:r}=e,[n]=(0,o.useState)(new l);return(0,t.jsx)(d.Provider,{value:{storage:n},children:r})}}}]);